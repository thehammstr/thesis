% !TEX root = ../Thesis.tex

\chapter{Introduction}
\label{ch.Introduction}

The work presented in this thesis enables iceberg profiling using autonomous underwater vehicles (AUVs). Iceberg profiling is the creation of 3-D shape reconstructions of the submerged portion, or keel, of free-drifting icebergs like the one shown in Figure \ref{fig:IcebergSunset}. These accurate 3-D shape profiles, reconstructions, or simply ``maps" are useful in a number of scientific and industrial applications. They enhance understanding of scientific data collected near the iceberg, providing ``geo-tagged"\footnote{or perhaps more appropriately, ``pago-tagged", from  $\pi \acute{\alpha} \gamma o \sigma$,  the greek word for ``ice"}  measurements. These reconstructions also serve as a navigational tool, providing a means to return to sites of interest for future study using terrain-relative navigation (TRN) techniques. 3-D reconstructions also provide insight into climate science and iceberg melt patterns by allowing accurate volumetric comparison between reconstructions of the same iceberg created at different times. 

In the energy industry, iceberg profiling is used as a tool to assess risk to infrastructure and other assets like underwater pipelines and oil rigs. Accurate shapes aid in drift trajectory prediction simulations that can predict collisions in time for preventative measures to be taken. 

%They are normally acquired through the use of ship-based sonar or Remotely-Operated Vehicles (ROVs). However, AUVs are increasingly being used for this task, though current methods often make strong assumptions about the iceberg's motion, require the AUV to be constantly fed position updates from a ``tender" ship, or can only map incomplete portions of the iceberg at a time \cite{Kimball2011b}.

\begin{figure}[!htb]
   \centering
   \includegraphics[width=.8\textwidth]{../graphics/icebergs-shadow-350.jpg} % requires the graphicx package
   \caption{Antarctic tabular iceberg at sunset. \emph{www.mbari.org}}
   \label{fig:IcebergSunset}
\end{figure}

The primary challenge in profiling free-drifting icebergs is that the iceberg translates and rotates as the vehicle tries to measure it. The creation of accurate reconstructions using a robotic vehicle can be accomplished by accurately determining the robot's trajectory through the space being profiled. If the robot's position and orientation relative to the iceberg can be determined, then its observations can be projected to create a self-consistent point cloud reconstruction. However the iceberg's motion complicates the task of localization within the reference frame of the iceberg.

%The iceberg's rotation and acceleration make it a non-inertial reference frame, which introduces large apparent navigation errors into the trajectory estimate, causing the projected measurements to be inconsistent. Onboard inertial navigation instruments and infrastructure-based navigation tools like GPS and Ultra-Short Baseline Interferometry (USBL) can only provide accurate navigation information \emph{in the inertial frame.} If the inertial trajectory estimate were used to generate a point cloud, neglecting any iceberg motion, the resulting point cloud would contain warping and inconsistencies. 

Because of the iceberg's motion, even vehicles with perfect inertial navigation can appear to drift by large amounts relative to the moving iceberg ``terrain." To see the effects of this motion, consider an autonomous underwater vehicle mapping an iceberg as depicted in Figure \ref{fig:introSetup}. The yellow cylinder is the vehicle, and the vertically-oriented fan-shaped pattern represents a multibeam sonar, an important tool for the creation of underwater 3-D reconstructions. The vehicle circumnavigates the iceberg several times while attempting to maintain a constant standoff distance from the ice, sweeping out a swath of sonar data as it travels. If the iceberg were fixed, the vehicle's inertial position could be used to project the multibeam readings into the world frame, creating the self-consistent point cloud shown in Figure \ref{fig:idealMap}. However, if the iceberg is not fixed, then reprojecting the measurements based on the inertial navigation alone will result in the point cloud shown in Figure \ref{fig:Challenge}. This type of inconsistency is very similar to that encountered by robots mapping static environments with low-precision inertial navigation. 

\begin{figure}[!htb]
   \centering
   \includegraphics[width=\textwidth]{../graphics/sonarIllustrations/sweepMap_edited.png} % requires the graphicx package
   \caption{Illustration of an AUV profiling an iceberg keel. The vehicle circumnavigates the iceberg, sweeping out a point cloud of multibeam sonar measurements. }
   \label{fig:introSetup}
\end{figure}

\begin{figure}[!htb]
   \centering
   \includegraphics[width=.9\textwidth]{../graphics/ceresResults/images/noDriftNoLinks2.png} % requires the graphicx package
   \caption{Simulated multibeam sonar point cloud with perfect inertial navigation and no iceberg motion. The magenta contour is the vehicle's inertial trajectory}
   \label{fig:idealMap}
\end{figure}

\begin{figure}[!htb]
   \centering
   \includegraphics[width=.9\textwidth]{../graphics/ceresResults/SimData/RealIceberg1/rawNavNoLinks.png} % requires the graphicx package
   \caption{Simulated multibeam sonar point cloud with vehicle trajectory not corrected to account for iceberg motion. The magenta contour is the vehicle's inertial trajectory}
   \label{fig:Challenge}
\end{figure}

The strategy employed in this dissertation to correct the warping due to iceberg motion is based on estimating the AUV's position in the iceberg's frame of reference. To do this the problem is posed within a simultaneous localization and mapping (SLAM) framework. This class of methods uses information within the environment (i.e. the iceberg) to aid in trajectory estimation, which in turn produces a more accurate, self-consistent projection of measurements into the world. Hence the robot simultaneously creates a map and localizes itself within that map. The robot can gain information about its accumulated navigational error by revisiting portions of the terrain it has already traversed and using observed offsets to estimate and correct for those errors. 

One major challenge with performing SLAM in underwater environments is automatic detection of these so-called ``loop closure events." In shallow, feature-rich environments, such as coral reefs, cameras can be used, and robust image features can allow detection of these events. However, when standoff distances are large, or there is not sufficient texture in the terrain to allow image correlation, cameras provide little aid. In these cases, systems typically rely on accurate inertial guidance to provide a good initial estimate of regions of overlap, and then refine these estimates through point cloud correlation techniques like Iterative Closest Point (ICP). These methods can provide very accurate alignment, but are susceptible to local minima, and generally require good intial estimates of alignment to converge to the correct value. As noted above, when the environment is a non-inertial reference frame, even the most accurate inertial navigation system (INS) will not necessarily be able to provide sufficient accuracy for this type of loop closure detection. 

This dissertation presents several contributions: 

a) It provides a method for generating a self-consistent reconstruction of the \emph{entire} submerged portion of a free-drifting iceberg, including multiple swaths collected at different depths. 

b) It formulates the profiling problem entirely in iceberg-relative terms. Previous efforts worked in the inertial reference frame and solved for iceberg motion explicitly. Recasting the problem in the moving reference frame has operational benefits and also speeds up the reconstruction process by several orders of magnitude. 

c) It describes two tools for encoding loop closure information into the profiling process. The first is a graphical user interface with which a human user can detect these events. The second is a method for autonomous detection of loop closure events, drawing from well-developed work in the computer vision community.

d) It shows profiling results from simulation using shape data from a real iceberg, as well as results from AUV field data of an underwater canyon with simulated motion effects. In both cases, the algorithm is able to produce an accurate, self-consistent profile of the body despite large odometry errors due to its motion.  



\section{Motivation}

This section outlines several motivating missions for the research presented in this dissertation. The discussion starts with far-term scientific space missions and works backward to current industrial applications.

\subsection{Life in extreme environments}

The research presented here was funded by the NASA Astrobiology Science \& Technology for Exploring Planets (ASTEP) program. ASTEP is interested in developing the technology necessary to perform science and exploration in extreme environments, such as comets, asteroids, or remote planets.

One challenge in the study of these environments is the lack of navigational infrastructure. There is no equivalent of GPS to supply a robotic vehicle with its position relative to the body or planet, and installing one on the surface would likely be prohibitively difficult. Star trackers and inertial guidance systems can be used, but these provide position of the vehicle in inertial space, not relative to the body.

If the shape of the body is known, terrain-relative navigation techniques can be used to localize relative to it, regardless of how it may be moving. Additionally, a shape reconstruction is a valuable scientific tool unto itself, allowing other data to be location-referenced and enabling longitudinal studies in the evolution of a body's shape. However, generating a 3-D reconstruction of a body that is moving relative to the inertial reference frame presents several challenges.

This dissertation deals with the analog mission of robotic exploration around a free-drifting iceberg, specifically the creation of a 3-dimensional reconstruction of its underwater portion. Icebergs, like the celestial bodies mentioned above, are harsh environments without navigation infrastructure. By conducting such real-world robotic exploration and mapping missions, lessons will be learned and techniques developed that will mitigate risks without incurring the cost of launching hardware into space. 

The capabilities enabled by this research could one day aid in the study of the origins of life. In particular, a number of preorganic molecular species thought to be necessary for life have been observed in high concentrations in comets and asteroids \cite{}. In fact, some theories hypothesize that these biological building blocks were first delivered to Earth via these objects impacting the planet several billion years ago \cite{}. Because of these and other reasons, asteroids and comets are scientific points of interest. Several recent missions have studied them, like NASA's Deep Impact \cite{} and ESA's Rosetta \cite{}, and NASA has begun considering future manned missions to study them \cite{}.

\subsection{Iceberg profiling}

In addition to its use as an analog for space missions, creating iceberg profiles has a number of scientific uses, as well as applications in infrastructure protection. Some of these are outlined here.

\subsubsection{Scientific applications}

Iceberg profiles have several scientific applications that can be broken down by time-scale of interest: immediate, days to weeks, and months to years. 

In the immediate term, having a 3-D map of the iceberg allows location-referencing of any data collected in its vicinity. This provides high resolution spatial context for the data, and can aid in identifying points of interest for further study. 

In the days and weeks after their creation, iceberg reconstructions can be used to improve temporal resolution of data. Having iceberg-referenced data removes spatio-temporal ambiguity in data collected on different surveys, enabling observation of how measured quantities evolve over time. Additionally, iceberg reconstructions can be used as maps to aid in return-to-site missions, where specific points of interest identified in an initial survey can be revisited. Armed with the map, the robot can perform terrain-relative navigation (TRN) to return to the site, even if the iceberg has drifted and rotated a considerable amount \cite{}. This would grant scientists the opportunity to deploy sensor suites tailored to particular applications, potentially giving a much clearer picture of what is happening in important areas.

Finally, on time scales of months to years, performing shape reconstruction on the same iceberg allows the calculation of an iceberg's melt rates and melt patterns.

\subsubsection{Industrial applications}

Energy companies operating in polar regions routinely hire contractors to do ship-based reconstructions of icebergs that pose a risk to their infrastructure. They use these reconstructions to help predict how the iceberg drift with the wind and ocean currents, and in high-fidelity collision simulations to asses the likelihood of damage in the even of impact with a drilling rig or pipeline \cite{ralph2008iceberg} \cite{fuglem1996iceberg}. Of particular importance in the latter case is knowing the depth and shape of the iceberg keel, as a keel dragging across the seafloor can cause catastrophic damage to pipelines. This is known as ``iceberg scour," and motivates the need for profiling the full depth of the iceberg.

%\subsection{Advantages and Disadvantages of AUVs}
%
%AUVs are an attractive alternative to ship-based methods of iceberg study. Typically, a ship will take an array of measurements at several points around an iceberg. Ships must maintain a large standoff distance when studying icebergs due to calving danger or the presence of brash ice, and may not be able to see the entire depth of the iceberg. Using a tethered ROV can allow closer approaches, but they maneuver slowly, and require the ship to constantly tend them when it might be used for other scientific purposes. Additionally, the tether can become severed or caught on brash ice.
%
%AUVs address all of these concerns. They easily operate under brash ice, can approach closely without putting lives at risk, and do not require a tether. They provide high spatial resolution and can access the entire depth of the iceberg, while performing other scientific measurement, such as temperature, pressure, and salinity readings, or water sampling. 


%There are drawbacks, however: AUVs are limited in the size and power of the sensors they can carry, and can only collect limited volumes of water for later study, when compared to ships. Additionally, they often have limited maneuverability compared with ROVs, which can cause difficulty when operating around complex terrain or ice structure. Acoustic modems allow limited real-time communication with AUVs, but have very low bandwidth, requiring AUVs to be highly self-sufficient, and prohibiting immediate access to the data they collect. Because of this, AUVs will likely augment greatly, rather than completely replace ship-based surveys of icebergs for the foreseeable future. Working together, the surface vessels and underwater vehicles will provide more accurate reconstructions and a much clearer picture of the free-drifting iceberg environment than either method of study could alone.

\section{Mapping in underwater environments}

AUVs are commonly used to generate bathymetry maps of underwater terrain. These maps provide 3-D terrain information, and are typically generated from multibeam sonar data, as depicted in Figure \ref{fig:AUVbathyMapping}. An approach commonly adopted in these tasks is to estimate the trajectory or the mapping vehicle to high precision, including both position and orientation, and then to project the vehicle's body-fixed sensor readings into the world reference frame. Taken together, position and orientation are commonly referred to as \emph{pose}. If the robot's pose can be determined at each time a measurement was made, an accurate map can be generated. 

Some components of the vehicle's pose history are easier to estimate than others. When operating in static environments, the vehicle's pitch, and roll, can be estimated to high precision using rate gyros and accelerometers. Heading can also be estimated with gyros and magnetometers. Depth and altitude can be measured by pressure sensors and downward-facing sonar, respectively. 

The most challenging quantities to estimate are the vehicle's horizontal position components, $x$ and $y$. A few commonly-used means for horizontal localization of underwater robots are discussed below.

\begin{figure}[!htb]
   \centering
   \includegraphics[width=0.8\textwidth]{../graphics/AUVMapping.JPG} % requires the graphicx package
   \caption{Mapping AUVs typically carry downward-oriented multibeam sonars oriented to sweep over a wide swath of terrain as they move. They generally traverse large areas in a ``lawnmower pattern" and use overlapping observations to correct for any accumulated navigation drift in post-processing. \emph{www.mbari.org} }
   \label{fig:AUVbathyMapping}
\end{figure}

\subsection{Infrastructure-based localization}

Infrastructure-based localization works by employing equipment in the environment that can determine the position of a vehicle or provide sufficient information to the vehicle that it can determine its own position. GPS is currently the most well-known such system: a constellation of satellites provide GPS receivers with their own position and range information, which allows the receiver to infer its own position. Infrastructure-based systems can have one-way communication (like GPS) or two way communication, and many different principles of operation, but all methods are in some way \emph{cooperative} with the vehicle. 

GPS signals do not penetrate the ocean, so for infrastructure-based navigation underwater, two other methods are commonly used: Long-Baseline Interferometry (LBL) and Ultra-Short Baseline Interferometry (USBL). In LBL, an array of sonar beacons are deployed on the seafloor or other fixed structure, and surveyed for calibration. After that, the vehicle can use time-of-flight sonar signals to find its range to each, and calculate its position within the surveyed area. This is essentially the same principle of operation as GPS, but using sound waves instead of radio. In USBL, a ship-based transducer can calculate range and azimuth to the vehicle again based on sonar flight time, and using geometry and its own GPS-location, determine the robot's position. This method reduces in positional accuracy with increased distance from the ship. 

\begin{figure}[!htb]
   \centering
   \includegraphics[width=.8\textwidth]{../graphics/LBL.png} % requires the graphicx package
   \caption{Long-Baseline Interferometry provides position fixes to the vehicle, limiting drift. \emph{Graphic courtesy of Peter Kimball}}
   \label{fig:LBL}
\end{figure}

\subsection{Inertial navigation}

Inertial navigation is the use of self-contained highly-precise acceleration and angular rate measurements, integrated over time, to provide an estimate of pose. Though magnetometers do not, strictly speaking, provide inertial measurements, they are often also used to aid in attitude determination. This mode of navigation is often referred to as ``dead reckoning."

\begin{figure}[!htb]
   \centering
   \includegraphics[width=.8\textwidth]{../graphics/DeadReckoning.png} % requires the graphicx package
   \caption{Inertial navigation, or dead reckoning, requires no external infrastructure but will drift over time without bound. \emph{Graphic courtesy of Peter Kimball}}
   \label{fig:inertialNav}
\end{figure}

Any errors in the measurement or integration of these quantities will cause a drift in the estimated pose that will grow without bound over time. The growth rate of this drift can be decreased by either obtaining better measurements, or using measurements that will allow fewer integrations. For example, if a direct measurement of velocity can be obtained, only one integration must be performed to estimate position, generally yielding a slower drift rate than integrating accelerations twice. However, \emph{any} system that relies only on integrated measurements to provide an estimate of position \emph{will} drift over time, and the drift will be unbounded. 

\subsection{Environment-aided localization}

Environment-aided localization refers broadly to the use of information within the environment to prevent unbounded localization error. This differs from infrastructure-based methods in that it is assumed that the environment is not actively cooperating with the vehicle. The vehicle must use ``information of opportunity" to aid in its localization. 

\begin{figure}[!htb]
   \centering
   \includegraphics[width=.8\textwidth]{../graphics/TRN.png} % requires the graphicx package
   \caption{The vehicle can extract information from the terrain. If it traverses the same area more than once it can use the information to calculate an offset and eliminate any inertial drift that occurred between traversals. \emph{Graphic courtesy of Peter Kimball}}
   \label{fig:TRN}
\end{figure}

The type of environmental information used varies widely by application and available sensing, but the common thread is that if a vehicle can identify a landmark, feature, or area that it has traversed before, it can make a direct measurement of the magnitude and direction of drift it has accrued in the elapsed time, and account for that drift, bounding its magnitude in time. This has two parts: ``correspondence:" ior identifying these loop-closure events, and ``correlation:" estimating bias based on correspondence. 

In practice, nearly every mapping application uses some degree of environment-aided methods to achieve precise, self-consistent maps. In underwater mapping, self-intersecting trajectories are typically designed into a mission, and submaps from the beginning and end of the run are correlated to eliminate inertial drift. This technique is often referred to as ``scan matching" in the terrestrial robotics community, and is often used even when GPS is available to refine position estimates and produce maps of high precision. A similar strategy is used when creating mosaic images, such as aerial maps or panorama photos.  Keypoints, or distinctive image features, are extracted from each image and compared to keypoints from other images. After matches are identified ( solving the correspondence problem) the images are distorted to produce a self-consistent map, free of seams at the borders between images. The sensor modality is very different from a ranging sensor like sonar, but the principle is identical. 

Several types of environment-aided localization and mapping techniques will be described in Chapter \ref{ch.RelatedWork}.

\section{Challenges with mapping icebergs}

Profiling icebergs poses a set of unique challenges relative to other underwater mapping tasks. Specifically, they can move a substantial amount during the time it takes to image their entire surface. Icebergs are free to translate in two directions, and rotate in heading. They are pushed at random by the wind  and currents, making it difficult to predict how they will move. (Additionally, they are prone to flip or ``turtle," pitching 180 degrees over very short time scales, though this dissertation does not address such dynamic corner cases of profiling.) 

The method presented here extends the techniques of traditional AUV-based bathymetry mapping to profiling icebergs. This approach requires that the vehicle's pose \emph{relative to the iceberg}, as opposed to the inertial pose, be determined in order to project the measurements into a self-consistent cloud. The iceberg's motion makes this challenging, as integrating inertial sensor measurements does not provide an accurate pose estimate in a non-inertial reference frame. Unmodeled accelerations and rotations of the iceberg are indiscernable from navigation errors onboard the vehicle: even with perfect inertial measurements, the vehicle would appear to drift in the iceberg's reference frame. The equivalence between errors due to motion and errors due to faulty inertial sensing is shown in detail in Chapter \ref{ch.IcebergGeometry}. Additionally, the non-inertial reference frame means that even infrastructure-based localization methods like GPS (if it were available underwater) and USBL will appear to drift in the iceberg frame, since they report position in the inertial frame. In order for these localization methods to provide drift-free iceberg-relative positioning, infrastructure would need to be installed on the iceberg itself, which is prohibitive in most cases due to risk and reliability concerns. 

The apparent odometry error also complicates greatly the task of data correspondence between traversals of the same area of the iceberg, an important step for using environment-aided localization to generate a self-consistent reconstruction. This stems from the fact that most methods used to align point clouds of data like the ones generated by the multibeam assume that the clouds are rigid. The odometry uncertainty introduces flexibility into the point clouds, degrading the accuracy of the alignment algorithms. This will be discussed in detail in Chapter \ref{ch.LoopClosure}.

As a final note, there do exist shape reconstruction techniques that do not rely on determining observer motion explicitly, which could circumvent the problem of determining iceberg-relative vehicle motion, but the sensing available to AUVs makes their application challenging. Methods like Structure from Motion (SFM) \cite{} or Scan Matching  \cite{} use cameras or scanning lidar to align measurements directly, taking advantage of sensing modalities that have large degrees of overlap between successive measurements, enabling comparison and alignment. The multibeam sonar has a very limited field of view in the direction of travel, so successive measurements do not typically overlap. This maximizes data coverage per distance traveled, but makes it impossible to perform scan matching for alignment of successive measurements. While the addition of other sensors might make these methods easier to apply, removing the need to estimate iceberg-relative pose directly, this would be an expensive solution. Chapter \ref{ch.IcebergGeometry} describes one way that an additional multibeam sonar could be used for this purpose, but the results presented in Chapter \ref{ch.Results} show that making some weak assumptions about the nature of the iceberg's motion, accurate maps can be generated using the same sensor suite as traditional bathymetry mapping.

%\begin{figure}[!htb]
%   \centering
%   \includegraphics[width=\textwidth]{../graphics/ceresResults/SimData/RealIceberg1/RawNavNoLinks.png} % requires the graphicx package
%   \caption{Naively projected sonar data from a simulated mapping run as shown in Figure \ref{fig:simImage1}. Iceberg translation and rotation causes large apparent navigational drift and unless corrected, results in map errors. The drift can be so severe that the correspondence problem cannot be solved using normal dead-reckoning methods.}
%   \label{fig:naiveMapping}
%\end{figure}
%
%If the AUV were operating above water, powerful 3D laser scanners would allow a direct measurement of rotation and translation between measurements reducing or eliminating the errors associated to iceberg motion. This is shown in figure \ref{fig:ScanMatch}. These types of scanners can map and perform odometry simultaneously, and are often used on terrestrial robots and Unmanned Surface Vehicles, but do not work underwater \cite{Papadopoulos2014}. The multibeam sonars available to an AUV only scan in two dimensions. For mapping the iceberg, the sonar is oriented with the beam oriented perpindicular to the direction of travel in order to sweep out the widest area, as shown in Figure \ref{fig:beamOrientation}.  In order to perform scan matching for odometry, the sonar would need to be oriented in the horizontal plane, as in Figure \ref{fig:ScanMatchMultibeam}. This drives a need for environment-aided localization techniques, as described above. 
%
%\begin{figure}[!htb]
%   \centering
%   \includegraphics[width=.8\textwidth]{../graphics/ScanMatch4a.png} % requires the graphicx package
%   \caption{Top view of the iceberg mapping problem. If the sensor field of view has significant extent in the direction of travel, scan matching can provide odometry}
%   \label{fig:ScanMatch1}
%   \end{figure}
%    \begin{figure}[h]
%   \centering
%   \includegraphics[width=.8\textwidth]{../graphics/ScanMatch4b.png} % requires the graphicx package
%   \caption{Odometry corrected by scan matching. This readily extends to the full 3d case using techniques like Iterative Closest Point.}
%   \label{fig:ScanMatch2}
%\end{figure}
%
%\begin{figure}[h]
%   \centering
%   \includegraphics[width=.8\textwidth]{../graphics/ScanMatch3.png} % requires the graphicx package
%   \caption{Simulated AUV scans taken at two times, roughly 20 meters apart. The multibeam mapping sonar sweeps out a wide area when oriented perpendicular to the direction of travel. This orientation does not allow scan matching for odometry, since the beam pattern does not overlap from scan to scan, as shown in Figure \ref{fig:NoMatch}}
%   \label{fig:beamOrientation}
%\end{figure}
%
%\begin{figure}[h]
%   \centering
%   \includegraphics[width=.8\textwidth]{../graphics/ScanMatch3a.png} % requires the graphicx package
%   \caption{This shows the same plot as Figure \ref{fig:ScanMatch1}, but with a vertically-oriented multibeam sonar, as used in mapping, as opposed to a horizontally-mounted multibeam or 3D range scanner. This orientation does not allow scan matching for odometry, since the beam pattern does not overlap from scan to scan.}
%   \label{fig:NoMatch}
%\end{figure}
%
%\begin{figure}[h]
%   \centering
%   \includegraphics[width=.8\textwidth]{../graphics/ScanMatch1.png} % requires the graphicx package
%   \caption{A multibeam sonar could be used for odometry as in Figure \ref{fig:ScanMatch2} if mounted in the horizontal plane as shown, but only for trajectories at constant depth, as the field of view would be very narrow in the vertical direction. However, this configuration could only map a thin layer of the iceberg at a time, so it is unsuitable for the mapping mission.}
%   \label{fig:ScanMatchMultibeam}
%\end{figure}
%
%To estimate and correct any inertial navigation drift that could yield inconsistencies in maps of underwater terrain, submaps from overlapping portions of a mission are correlated using point cloud alignment methods such as the Iterative Closest Point algorithm (ICP). This step produces an accumulated navigation error to high precision, but is nonconvex, and requires relatively good initial alignment to converge to the correct minimum. In normal underwater mapping tasks, the inertial navigation system yields a low enough drift rate that the vehicle is essentially guaranteed to be within a few meters of its estimate, which ensures that it will be initialized in the correct basin of attraction for the correlation step. 
%
%The apparent inertial navigation drift due to iceberg motion can be so large that the robot's estimate of its position within the iceberg frame of reference can have very large errors. This can push the correlation method into a local minimum, yielding a false error vector, or it could mean that the two submaps do not correspond to the same patch of terrain at all! Either of these possibilities would result in potentially large map inconsistencies. This is called the \emph{correspondence problem,} and the iceberg motion makes it impossible to solve it in the typical manner of sufficiently accurate dead reckoning.   %The iceberg-motion-induced odometry error and the inability to directly account for it due to sensor limitations leads to the second implication: while iceberg motion requires environment-aided localization to estimate the errors due to motion, it complicates the correspondence problem, a crucial part of these techniques. This is because the standard method for solving the correspondence problem in underwater mapping relies on having well-characterized inertial navigation errors. Equipped with a high quality inertial navigation unit, a vehicle can fly a full mapping run and return on a self-intersecting trajectory to usually within meters of its true position. When it builds its submaps, it is essentially guaranteed to see the terrain it expects to see. The correspondence problem is simply solved by accurate dead reckoning. This is important, as the methods typically used for the correlation step are sensitive to initialization, and can fall into local minima or become intractible if too large a search area is used. 
%
%
%
%In summary, the non-inertial iceberg reference frame will introduce large apparent errors in the vehicle's navigation, resulting in an inaccurate map. The vehicle can not typically directly measure the motion, driving a need for environment-aided techniques to estimate it. However, the motion also complicates the implementation of these techniques by making the data correspondence problem more difficult. 

%\section{Contributions}
%
%This dissertation makes four main contributions:
%
%First, it provides a method for generating a self-consistent reconstruction of the \emph{entire} submerged portion of a free-drifting iceberg, including multiple swaths collected at different depths, using an AUV without the need for external monitoring or intervention. Previous methods had various limitations in the iceberg size, assumed the iceberg could not rotate, or had to be continuously sent positioning information from a surface vessel. The method presented can combine multiple swaths of data collected at different depths to profile the full submerged portion of the iceberg. 
%
%Second, it formulates the profiling problem in such a way that the vehicle's inertial position need not be known, eliminating the need for external position fixes. This reformulation also shows the equivalence between iceberg profiling and mapping with imperfect inertial sensors, a well-studied problem in the robotics community. This allows the the reconstruction to be built efficiently by well-developed and highly-optimized mapping algorithms.
%
%Third, it presents several methods for autonomous detection of loop closure events. These methods use various means to reduce the size of the search space used to determing correspondence. In one method, application-specific information is leveraged to reduce the frequency of false matches. In the other, features inspired by the computer vision community are extracted and compared using random sample consensus (RANSAC) to reduce  false positive correspondences.
%
%Fourth, it presents successful profiling results, both from simulation and from field data. In the former, an iceberg model using shape data from a real iceberg is given simulated translational and rotational motion. The data is then fed to the SLAM algorithm and the error due to motion is eliminated. The field data consists of mapping an underwater canyon. This is shown for two cases: first on the raw inertial navigation data, which had developed a translational offset of $\approx  5$ meters over the course of the mapping run. Second, the compass data was corrupted to simulate the effects of a rotating iceberg, and the SLAM algorithm was allowed to recover from the large errors this incurred.

\section{Reader's guide}

\subsubsection*{Chapter \ref{ch.RelatedWork}: Related Work} A survey of methods currently used for iceberg profiling is presented, along with related work in Simultaneous Localization and Mapping, and methods for feature recognition and automatic loop closure detection.

\subsubsection*{Chapter \ref{ch.ProblemStatement}: Problem Definition} The vehicle and sensor characteristics used for this work are described, as well as assumptions about iceberg motion. Additionally, the SLAM framework as it pertains to iceberg profiling is described, along with motivation for using the GraphSLAM algorithm to scale the solution to multiple passes of data with many loop closure events.

\subsubsection*{Chapter \ref{ch.LoopClosure}: Methods for loop closure detection} Limited sensing and moving terrain complicate the detection of loop closure events. This chapter lays out several methods to enable this capability.

\subsubsection*{Chapter \ref{ch.IcebergGeometry}: Motion between loop closures}  This chapter recasts the method developed in \cite{} into the moving reference frame of the iceberg. This reduces greatly the number of estimation parameters, and eliminates the need for the vehicle to have knowledge of its inertial position.

\subsubsection*{Chapter \ref{ch.GraphSLAM}: Solving for Iceberg Shape using GraphSLAM} This section uses the problem formulation developed in Chapter \ref{ch.IcebergGeometry} and solves it using the GraphSLAM algorithm.

\subsubsection*{Chapter \ref{ch.Results}: Profiling results} Results are presented on simulated data of a drifting iceberg, as well as field data collected in Monterey Canyon. 

\subsubsection*{Chapter \ref{ch.FutureWork}: Summary and Future Work}

